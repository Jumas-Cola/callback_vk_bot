callback_vk_bot
======
**callback_vk_bot** – простой callback-бот для группы на PHP для социальной сети Вконтакте (vk.com)

При получении сообщения с командой на отправку картинки/гифки/аниме, ищет контент в случайной группе из заданного списка и присылает пользовтелю.

Если сообщение не содержит ключевой фразы - отправляет заглушку с вашим текстом (благодарность за ожидание ответа например).

При выходе пользователя из группы, также отправляет ему сообщение (для этого пользователь должен хотя бы раз отправить сообщение в группу или разрешить отправку сообщений от данной группы).

Скрипт использует библиотеку vk_api  
Автор данной библиотеки: [Runnin](https://vk.com/runnin4ik)  

Для работы программы необходимо заполнить config.json

Где взять нужные параметры
------------
![Где взять эти параметры](https://sun1-12.userapi.com/c824203/v824203252/1a928a/EhoN1g4Gvjw.jpg)

Во вкладке "Типы событий" поставить галочки:

* Входящее сообщение
* Выход из сообщества

Запуск
------------
После заполнения всех параметров, необходимо разместить ваш скрипт на сервере с поддержкой php и указать адрес расположения скрипта в группе:
Группа -> Управление -> Работа с API -> Callback API -> Настройки сервера -> Адрес.
Жмём "Подтвердить", и ,если всё сделано верно, то появится надпись об успешном подтверждении.
После этого отправляем в сообщения группы письмо с ключевым словом и, если в ответ пришла картинка - значит всё работает правильно.  

Кнопки
------------
Для более удобного использования бот отправляет пользователю кнопки.  
Подробнее о кнопках можно прочесть здесь:  
[https://game-tips.ru/it/kak-sdelat-knopki-byistryih-otvetov-keyboard-dlya-botov-v-vk/](https://game-tips.ru/it/kak-sdelat-knopki-byistryih-otvetov-keyboard-dlya-botov-v-vk/)  
```php
...
const BTN_IMG =  [["action" => 'send_img'], "лоли", "blue"];
const BTN_GIF =  [["action" => 'send_gif'], "гиф", "blue"];
const BTN_ANIME = [["action" => 'send_gif'], "аниме", "blue"];
const BTN_ADMIN = [["action" => 'letter_to_admin'], "Связаться с админом", "white"];
...
```

Demo:
 https://vk.me/notice__me__senpai
